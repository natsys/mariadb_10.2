create table t (a int) with system versioning;
insert into t values (1);
update t set a=2;

select * from t;
show variables where Variable_name like "temporal_current_timestamp%";

set global temporal_current_timestamp = '2031-1-1 0:0:0';
select * from t;

set global temporal_current_timestamp = '2011-1-1 0:0:0';
select * from t;

set global temporal_current_timestamp = 'all';
select * from t;
show variables where Variable_name like "temporal_current_timestamp%";

create view vt as select * from t;
select * from t;
drop view vt;

select * from (select * from t) as tt;

--error ER_GLOBAL_VARIABLE
set session temporal_current_timestamp = 'now';

drop table t;
set global temporal_current_timestamp = 'now';
