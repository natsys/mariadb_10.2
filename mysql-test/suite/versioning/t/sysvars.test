create table t (a int) with system versioning;
insert into t values (1);
update t set a= 2;

select * from t;
show variables where variable_name = "temporal_current_timestamp";

set global temporal_current_timestamp = '2031-1-1 0:0:0';
select * from t;

set global temporal_current_timestamp = '2011-1-1 0:0:0';
select * from t;

set global temporal_current_timestamp = 'all';
select * from t;
show variables where Variable_name like "temporal_current_timestamp%";

create view vt as select * from t;
select * from t;
drop view vt;

select * from (select * from t) as tt;

--error ER_GLOBAL_VARIABLE
set session temporal_current_timestamp = 'now';

set global temporal_current_timestamp = 'now';

show variables where variable_name = "vers_hide";
select * from t for system_time all;

set global vers_hide= AUTO;
select * from t;
select * from t for system_time as of timestamp current_timestamp(6);
--replace_regex /\d{4}-\d\d-\d\d \d\d:\d\d:\d\d\.\d{6}/TIMESTAMP/
select * from t for system_time all;
--replace_regex /\d{4}-\d\d-\d\d \d\d:\d\d:\d\d\.\d{6}/TIMESTAMP/
select * from t for system_time timestamp from '0-0-0' to current_timestamp(6);
--replace_regex /\d{4}-\d\d-\d\d \d\d:\d\d:\d\d\.\d{6}/TIMESTAMP/
select * from t for system_time timestamp between '0-0-0' and current_timestamp(6);

set global vers_hide= NEVER;
--replace_regex /\d{4}-\d\d-\d\d \d\d:\d\d:\d\d\.\d{6}/TIMESTAMP/
select * from t;

set global vers_hide= FULL;
create or replace table t (
  x int,
  st timestamp(6) generated always as row start,
  en timestamp(6) generated always as row end,
  period for system_time (st, en))
with system versioning;

show create table t;
insert into t values (1);
delete from t;

select * from t;
select * from t for system_time all;

drop table t;
set global vers_hide= IMPLICIT;