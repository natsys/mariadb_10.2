SET NAMES utf8mb4;
CREATE TABLE t (str TEXT, FULLTEXT(str) WITH PARSER ngram)
ENGINE=InnoDB;
INSERT INTO t VALUES ("Hello World"), ("abcdef ghijklm");
# Restart with ngram plugin disabled.
SET NAMES utf8mb4;
SELECT * FROM t WHERE MATCH(str) AGAINST('bcd') ORDER BY str;
ERROR HY000: Plugin 'ngram' is not loaded
SELECT * FROM t ORDER BY str;
ERROR HY000: Plugin 'ngram' is not loaded
INSERT INTO t VALUES ("something");
ERROR HY000: Plugin 'ngram' is not loaded
# Restart with ngram plugin enabled again.
SET NAMES utf8mb4;
SELECT * FROM t WHERE MATCH(str) AGAINST('bcd') ORDER BY str;
str
abcdef ghijklm
SELECT * FROM t ORDER BY str;
str
abcdef ghijklm
Hello World
INSERT INTO t VALUES ("something");
DROP TABLE t;
